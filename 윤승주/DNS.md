# DNS

### DNS(Domain Name System, 도메인 네임 시스템)

- 계층적이고, 분산된 도메인 네임에 대한 관리 체계
  

### 계층 네임 서버

- 'IP 주소를 모르는 상태에서 도메인 네임에 대응되는 IP 주소를 알아내는 과정'
  
  - '도메인 네임을 풀이한다'
    
  - '리졸빙(resolving) 한다'
    
- 네임 서버의 유형
  
  - 로컬 네임 서버
    
    - 클라이언트와 맞닿아 있는 네임 서버
      
    - 클라이언트가 도메인 네임을 통해 IP 주소를 알아내고자 할 때 가장 먼저 찾게 되는 네임 서버
      
  - 루트 네임 서버
    
    - 로컬 네임 서버가 대응되는 IP 주소를 모른다면 루트 네임 서버에 질의
      
    - 서버 루트 도메인을 관장하는 네임 서버
      
    - 질의에 대해 TLD 네임 서버의 IP 주소 반환
      
  - TLD 서버
    
    - TLD를 관리하는 네임 서버
      
    - 하위 도메인 네임을 관리하는 네임 서버 주소 반환
      
    - TLD: DNS 계층 구조에서 최상위에 위치한 도메인
      
  - 책임 네임 서버
    
    - 특정 도메인 영역을 관리하는 네임 서버
      
    - 자신이 관리하는 도메인의 영역의 질의에 대해서 다른 네임 서버에게 떠넘기지 않고 곧바로 답할 수 있는 네임 서버
      
    - 로컬 네임 서버가 마지막으로 질의하는 네임 서버
      
    - 일반적으로 로컬 네임 서버는 책임 네임 서버로부터 원하는 IP 주소를 얻어냄
      

### DNS의 흐름

1. 브라우저/운영체제가 로컬 DNS 캐시 확인
  
2. 로컬 DNS 서버에 질의
  
3. 루트 네임 서버에 질의
  
4. TLD 네임 서버에 질의
  
5. 책임 네임 서버에 질의
  
6. 로컬 DNS 서버에서 IP 주소를 캐시에 저장하고 사용자에게 응답
  
7. 해당 IP 주소에 접속
  

- 처음 질의하는 주체는 클라이언트, 그 이후 탐색은 로컬 DNS 
  
- 요청을 보내는 DNS를 DNS 리쿼서, 요청 받는 DNS를 네임 서버라고 한다
  

### 재귀적 질의와 반복적 질의

- 재귀적 질의
  
  - 클라이언트가 로컬 네임 서버에게 도메인 네임을 질의하면, 로컬 네임 서버가 루트 네임 서버에게 질의하고, 루트 네임 서버가 TLD 네임 서버에게 질의하고, TLD 네임 서버가 다음 단계에 질의하는 과정을 반복하며 최종 응답 결과를 역순으로 전달받는 방식
    
- 반복적 질의
  
  - 클라이언트가 로컬 네임 서버에게 IP 주소를 알고 싶은 도메인 네임을 질의하면, 로컬 네임 서버는 루트 도메인 서버에게 질의해서 다음으로 질의할 네임 서버의 주소를 응답하고, 다음으로 TLD 네임 서버에게 질의해서 다음으로 질의할 네임 서버의 주소를 응답받는 과정을 반복하다가 최종 응답 결과를 클라이언트에게 알려주는 방식
    
  
  | 구분  | 재귀적 질의 | 반복적 질의 |
  | --- | --- | --- |
  | 질의 내용 | "IP까지 찾아줘" | "몰라도 되니까 아는 선에서만" |
  | 주 사용처 | 클라이언트 → 로컬 DNS | 로컬 DNS → 루트, TLD 등 |
  | 책임 범위 | 질의받은 쪽이 **끝까지** 찾아야 | 질의받은 쪽이 **다음 주소만** 알려줌 |
  | 응답  | 최종 IP 주소 | 다음 DNS 서버 주소 |
  

### DNS 캐시

- 네임 서버들이 기존에 응답받은 결과를 임시로 저장했다가 추후 같은 질의에 이를 활용
  

### 예상 질문

## ✅ 기본 개념 질문

1. **DNS란 무엇이고, 왜 필요한가요?**
  
2. **도메인 이름과 IP 주소의 관계를 설명해주세요.**
  
3. **DNS 질의 과정의 전체 흐름을 설명해주세요.**
  
4. **DNS의 주요 구성 요소(루트 서버, TLD 서버 등)에 대해 설명해주세요.**
  

---

## ✅ 구조와 질의 방식 관련 질문

5. **루트 네임서버, TLD 서버, 권한 네임서버의 역할은 무엇인가요?**
  
6. **재귀적 질의와 반복적 질의의 차이를 설명해주세요.**
  
7. **DNS 질의 과정에서 ‘질의의 주체’가 왜 중요한가요?**
  
8. **`www.example.com`에 접속할 때, 어떤 순서로 네임서버를 거치게 되나요?**
  

---

## ✅ DNS 운영 및 실무 질문

9. **DNS 캐시는 무엇이고 왜 사용하나요?**
  
10. **A 레코드와 CNAME 레코드의 차이는 무엇인가요?**
  
11. **TTL(Time To Live)은 무엇이며, 어떤 영향을 미치나요?**
  
12. **서브도메인을 별도 네임서버에 위임하는 이유는 무엇인가요?**
  

---

## ✅ 보안/문제 해결 관점 질문

13. **DNS 스푸핑(DNS Spoofing) 공격이란 무엇인가요? 방어 방법은?**
  
14. **DNS 서버가 느릴 때 어떤 원인들을 의심할 수 있을까요?**
  
15. **도메인을 입력했는데 "DNS_PROBE_FINISHED_NXDOMAIN" 오류가 뜬다면 어떤 문제일까요?**
  

---

## ✅ 실무 상황 기반 질문

16. **서비스를 여러 지역에 배포하려고 할 때 DNS를 어떻게 활용할 수 있을까요?**
  
17. **클라우드 환경에서 서브도메인마다 다른 서비스로 연결하고 싶을 때 어떻게 할 수 있을까요?**
  
18. **도메인 연결을 직접 설정해본 경험이 있다면 설명해주세요.**